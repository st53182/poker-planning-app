<template>
  <div class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white">
    <div class="text-center">
      <h1 class="text-5xl font-bold mb-4 drop-shadow-lg">
        üéØ Planning Poker
      </h1>
      <p class="text-lg mb-8">
        –û—Ü–µ–Ω–∏–≤–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–∞–Ω–¥–æ–π –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <!-- –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É -->
        <button
          @click="createRoom"
          class="bg-green-500 hover:bg-green-600 px-6 py-3 rounded-lg text-lg font-medium shadow-lg transition"
        >
          üöÄ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É
        </button>

        <!-- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ -->
        <div class="flex gap-2">
          <input
            v-model="roomCode"
            type="text"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã"
            class="px-4 py-2 rounded-lg text-gray-800 w-60 focus:outline-none focus:ring-2 focus:ring-purple-400"
          />
          <button
            @click="joinRoom"
            class="bg-white text-purple-700 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition"
          >
            –í–æ–π—Ç–∏
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const roomCode = ref('')

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π –∫–æ–º–Ω–∞—Ç—ã
function createRoom() {
  const newRoomId = Math.random().toString(36).substring(2, 8) // 6-—Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–æ–¥
  router.push(`/room/${newRoomId}`)
}

// –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–º–Ω–∞—Ç–µ
function joinRoom() {
  if (roomCode.value.trim()) {
    router.push(`/room/${roomCode.value.trim()}`)
  } else {
    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã')
  }
}
</script>
